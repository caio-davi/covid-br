{"version":3,"sources":["states.js","components/LeafLetMap.jsx","components/LineChart.jsx","components/Options.jsx","components/App.jsx","index.js"],"names":["states","LeafletMap","props","getPosition","uId","i","uid","Map","center","zoom","TileLayer","url","attribution","markers","cases","position","parseInt","undefined","dataType","push","Circle","key","radius","color","sumStatus","data","status","count","values","state","labels","dates","date","buildDataset","label","datasets","dataOptions","name","borderColor","backgroundColor","chartData","LineChart","className","options","responsive","style","margin","Status","statusCollection","newStatus","showOnMapOptions","value","Options","day","min","max","length","defaultValue","handle","handleSlider","onChange","handleDropdown","placeholder","Handle","Slider","suspects","enabled","refuses","deaths","App","React","useState","setDay","setDataType","setData","useEffect","fetch","method","headers","Headers","Origin","then","response","text","str","substring","newData","JSON","parse","brazil","Object","keys","dragging","index","restProps","prefixCls","overlay","visible","placement","obj","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff5878fc.chunk.js","sourcesContent":["const states = [\n{ 'uid' : 11, 'name':  'Rondonia', 'lat': -8.76116, 'lon': -63.90043},\n{ 'uid' : 12, 'name':  'Acre', 'lat': -9.975377, 'lon': -67.8248977 },\n{ 'uid' : 13, 'name':  'Amazonaas', 'lat': -3.1190275, 'lon': -60.02173140000002},\n{ 'uid' : 15, 'name':  'Para', 'lat': -1.4557549, 'lon': -48.49017989999999},\n{ 'uid' : 17, 'name':  'Tocantins', 'lat': -10.184444, 'lon':  -48.333611},\n{ 'uid' : 21, 'name':  'Maranhao', 'lat': -2.53911, 'lon': -44.282905},\n{ 'uid' : 22, 'name':  'Piaui', 'lat':  \t-5.044685, 'lon':  \t-42.766233},\n{ 'uid' : 23, 'name':  'Ceara', 'lat': -3.7318616, 'lon': -38.5266704},\n{ 'uid' : 24, 'name':  'Rio Grande do Norte', 'lat': -5.7792569, 'lon': -35.20091600000001},\n{ 'uid' : 25, 'name':  'Paraiba', 'lat': -7.119496, 'lon': -34.845012},\n{ 'uid' : 26, 'name':  'Pernambuco', 'lat': -8.0578381, 'lon': -34.8828969},\n{ 'uid' : 27, 'name':  'Alagoas', 'lat': -9.649856, 'lon': -35.70892},\n{ 'uid' : 28, 'name':  'Sergipe', 'lat': -10.947247, 'lon': -37.073082},\n{ 'uid' : 29, 'name':  'Bahia', 'lat': -12.9730401, 'lon': -38.50230399999998},\n{ 'uid' : 31, 'name':  'Minas Gerais', 'lat': -19.9166813, 'lon': -43.9344931},\n{ 'uid' : 32, 'name':  'Espirito Santo', 'lat': -20.2976178, 'lon': -40.2957768},\n{ 'uid' : 33, 'name':  'Rio de Janeiro', 'lat': -22.9068467, 'lon': -43.1728965},\n{ 'uid' : 35, 'name':  'Sao Paulo', 'lat': -23.5505199, 'lon': -46.63330939999997},\n{ 'uid' : 41, 'name':  'Parana', 'lat': -25.4289541, 'lon': -49.267137},\n{ 'uid' : 42, 'name':  'Santa Catarina', 'lat': -27.5953778 , 'lon': -48.548049900000024},\n{ 'uid' : 43, 'name':  'Rio Grande do Sul', 'lat': -30.0346471, 'lon': -51.217658400000005},\n{ 'uid' : 50, 'name':  'Mato Grosso do Sul', 'lat': -20.469711 , 'lon': -54.620121},\n{ 'uid' : 51, 'name':  'Mato Grosso', 'lat': -15.601534, 'lon': -56.097889},\n{ 'uid' : 52, 'name':  'Goias', 'lat': -16.6868912, 'lon': -49.264794300000005},\n{ 'uid' : 53, 'name':  'Distrito Federal', 'lat': -15.7942287, 'lon': -47.8821658}\n];\n\nexport default states;","import React from \"react\";\nimport { Map, TileLayer, Circle } from \"react-leaflet\";\n\nconst LeafletMap = props => {\n  const getPosition = uId => {\n    for (let i in props.states) {\n      if (props.states[i].uid === uId) {\n        return [props.states[i][\"lat\"], props.states[i][\"lon\"]];\n      }\n    }\n  };\n\n  const Circles = () => {\n    let markers = [];\n    for (let i in props.cases) {\n      const position = getPosition(parseInt(props.cases[i].uid));\n      if (props.cases[i][props.dataType] !== undefined) {\n        markers.push(\n            <Circle\n              key={\"circle_\" + i}\n              radius={props.cases[i][props.dataType] * 500}\n              center={position}\n              color={props.color}\n            />\n        );\n      }\n    }\n    return markers;\n  };\n\n  return (\n    <Map center={props.center} zoom={4}>\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      <Circles />\n    </Map>\n  );\n};\nexport default LeafletMap;\n","import React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport \"../styles/Linechart.css\";\n\nconst sumStatus = (data, status) => {\n  let count = 0;\n  for (let i in data.values) {\n    const state = data.values[i];\n    if (state[status] !== undefined) {\n      count = count + state[status];\n    }\n  }\n  return count;\n};\n\nconst labels = data => {\n  let dates = [];\n  for (let i in data) {\n    dates.push(data[i].date);\n  }\n  return dates;\n};\n\nconst buildDataset = (data, label) => {\n  let values = [];\n  for (let i in data) {\n    values.push(sumStatus(data[i], label));\n  }\n  return values;\n};\n\nconst datasets = (data, dataOptions) => {\n  let datasets = [];\n  for (let key in dataOptions) {\n    datasets.push({\n      label: dataOptions[key].name,\n      data: buildDataset(data, key),\n      borderColor: dataOptions[key].borderColor,\n      backgroundColor: dataOptions[key].backgroundColor\n    });\n  }\n  return datasets;\n};\n\nconst chartData = (data, dataOptions) => {\n  return {\n    labels: labels(data),\n    datasets: datasets(data, dataOptions)\n  };\n};\n\nconst LineChart = props => {\n  return (\n    <div>\n      <div className=\"container\">\n        <Line\n          data={chartData(props.data, props.dataOptions)}\n          options={{ responsive: true }}\n        />\n      </div>\n      <div style={{margin:'5em'}}>\n          Fonte: Ministério da Saúde do Brasil.\n      </div>\n    </div>\n  );\n};\n\nexport default LineChart;\n","import React from \"react\";\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport \"../styles/Options.css\";\nimport Dropdown from \"react-dropdown\";\nimport 'react-dropdown/style.css';\n\nconst Status = props => {\n  const statusCollection = [];\n  for (let key in props.dataOptions) {\n    const newStatus = props.dataOptions[key];\n    statusCollection.push(\n      <div key={'status-body_'+key} className={`status-body ${key}`}>\n        <div key={'status-header_'+key} className={`status-header ${key}`}>{newStatus.name}</div>\n        {props.sumStatus(key)}\n      </div>\n    );\n  }\n  return statusCollection;\n};\n\nconst showOnMapOptions = (dataOptions) => {\n  let options = [];\n  for (let key in dataOptions){\n    options.push({\n      value: key, label: dataOptions[key].name,\n    })\n  }\n  return options;\n}\n\nconst Options = props => {\n  return (\n    <div className=\"Options\">\n      <div className=\"option\">\n        Day: {props.day}\n        <Slider\n          min={0}\n          max={props.data.length - 1}\n          defaultValue={props.data.length - 1}\n          handle={props.handleSlider}\n        />\n      </div>\n      <Status {...props} />\n      Show on map:\n      <Dropdown options={showOnMapOptions(props.dataOptions)}\n      onChange={props.handleDropdown}\n        placeholder=\"Casos Confirmados\" />\n    </div>\n  );\n};\n\nexport default Options;\n","import React from \"react\";\nimport \"../styles/App.css\";\nimport states from \"../states\";\nimport LeafletMap from \"./LeafLetMap\";\nimport LineChart from \"./LineChart\";\nimport Options from \"./Options\";\n\nimport Slider from \"rc-slider\";\nimport Tooltip from \"rc-tooltip\";\n\nconst Handle = Slider.Handle;\nconst center = [-15, -52];\n\nconst dataOptions = {\n  suspects: {\n    name: \"Casos Suspeitos\",\n    borderColor: \"royalblue\",\n    backgroundColor: \"cornflowerblue\",\n    enabled: false\n  },\n  cases: {\n    name: \"Casos Confirmados\",\n    color: \"red\",\n    borderColor: \"darksalmon\",\n    backgroundColor: \"Salmon\",\n    enabled: false\n  },\n  refuses: {\n    name: \"Casos Descartados\",\n    color: \"green\",\n    borderColor: \"darkseagreen\",\n    backgroundColor: \"Seagreen\",\n    enabled: false\n  },\n  deaths: {\n    name: \"Óbitos\",\n    color: \"grey\",\n    borderColor: \"LightSteelBlue\",\n    backgroundColor: \"lightslategray\",\n    enabled: false\n  }\n};\n\nfunction App() {\n  const [day, setDay] = React.useState(0);\n  const [dataType, setDataType] = React.useState(\"cases\");\n  const [data, setData] = React.useState(\"\");\n\n  React.useEffect(() => {\n    fetch(\n      \"https://cors-anywhere.herokuapp.com/http://plataforma.saude.gov.br/novocoronavirus/resources/scripts/database.js\",\n      {\n        method: \"POST\",\n        headers: new Headers({\n          Origin: \"https://caio-davi.github.io/covid-br/\"\n        })\n      }\n    )\n      .then(response => response.text())\n      .then(response => {\n        const str = response.substring(13, response.length);\n        const newData = JSON.parse(str).brazil;\n        setData(newData);\n        setDay(newData.length - 1);\n      });\n  }, []);\n\n  const sumStatus = status => {\n    let count = 0;\n    for (let i in data[day].values) {\n      const state = data[day].values[i];\n      if (state[status] !== undefined) {\n        count = count + state[status];\n      }\n    }\n    return count;\n  };\n\n  const handleDropdown = obj => {\n    setDataType(obj.value);\n  };\n\n  const handleSlider = props => {\n    const { value, dragging, index, ...restProps } = props;\n    setDay(value);\n    return (\n      <Tooltip\n        prefixCls=\"rc-slider-tooltip\"\n        overlay={value}\n        visible={dragging}\n        placement=\"top\"\n        key={index}\n      >\n        <Handle value={value} {...restProps} />\n      </Tooltip>\n    );\n  };\n\n  if (Object.keys(data).length > 1) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          Infográfico da Evolução do COVID-19 no Brasil\n        </header>\n        <div className=\"Body\">\n          <Options\n            data={data}\n            handleSlider={handleSlider}\n            day={data[day].date}\n            dataOptions={dataOptions}\n            sumStatus={sumStatus}\n            handleDropdown={handleDropdown}\n          />\n          <div className=\"leaflet-container\">\n            <LeafletMap\n              center={center}\n              states={states}\n              dataType={dataType}\n              color={dataOptions[dataType].borderColor}\n              cases={data[day].values}\n            />\n          </div>\n          <LineChart data={data} dataOptions={dataOptions} />\n        </div>\n      </div>\n    );\n  } else {\n    return <div></div>;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}